<template>
    <lightning-modal-header label="견적신청"></lightning-modal-header>
    <lightning-modal-body>

        <section>

            <lightning-flow
                    flow-api-name='SANDI_Screen_Flow'
                    flow-input-variables={inputVariables}
                    onstatuschange={handleStatusChange}
                >
                </lightning-flow>

            <div lwc:if={_productDetail}>
                <header>
                    <div class="slds-page-header slds-page-header_related-list">
                        <div class="slds-page-header__row">
                            <div class="slds-page-header__col-title">
                                
                                <div class="slds-media">
                                    <div class="slds-media__body">
                                        <div class="slds-page-header__name">
                                            <div class="slds-page-header__name-title">
                                                <h1>
                                                    <span class="slds-page-header__title slds-truncate"
                                                        title="상품 정보">상품 정보</span>
                                                </h1>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </header>
                <ul class="slds-p-around_small">
                    <li>
                        <lightning-input 
                        label="Product" 
                        value={_productDetail.fields.Name}
                        class="input-product"
                        readonly
                        > </lightning-input>
                    </li>
                    <li lwc:if={productOption.length}>
                        <lightning-combobox
                            name="product option"
                            label="Product Option"
                            options={productOption}
                            onchange={handleOption}
                            lwc:ref="type"
                            class="input-type"></lightning-combobox>
                    </li>

                    <li>
                        <div class="count_control">
                            <button onclick={changeQuantity} data-type="delete">-</button>
                            <input type="number" value={quantity} />
                            <button onclick={changeQuantity} data-type="add">+</button>
                        </div>
                    </li>
                </ul>
            </div>

            <div>
                <header>
                    <div class="slds-page-header slds-page-header_related-list">
                        <div class="slds-page-header__row">
                            <div class="slds-page-header__col-title">
                                
                                <div class="slds-media">
                                    <div class="slds-media__body">
                                        <div class="slds-page-header__name">
                                            <div class="slds-page-header__name-title">
                                                <h1>
                                                    <span class="slds-page-header__title slds-truncate"
                                                        title="구매자 정보">구매자 정보</span>
                                                </h1>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </header>
                <ul class="slds-p-around_small">
                    <li>
                        <lightning-input 
                        label="이름" 
                        readonly={isReadonly}
                        class="validate-target input-name"
                        lwc:ref="name"> </lightning-input>
                    </li>
                    <li>
                        <lightning-input
                            type="email"
                            label="Email"
                            placeholder="username@example.com"
                            class="validate-target input-email"
                            lwc:ref="email"
                        >
                        </lightning-input>
                    </li>
                    <li>
                        <lightning-input
                            type="tel"
                            label="Phone"
                            class="validate-target input-phone"
                            lwc:ref="phone"
                        >
                        </lightning-input>
                    </li>
                </ul>
                
            </div>
            
            <div>
                <header>
                    <div class="slds-page-header slds-page-header_related-list">
                        <div class="slds-page-header__row">
                            <div class="slds-page-header__col-title">
                                
                                <div class="slds-media">
                                    <div class="slds-media__body">
                                        <div class="slds-page-header__name">
                                            <div class="slds-page-header__name-title">
                                                <h1>
                                                    <span class="slds-page-header__title slds-truncate"
                                                        title="추가 문의 내용">추가 문의 내용</span>
                                                </h1>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </header>
                <ul class="slds-p-around_small">
                    <li>
                        <lightning-input 
                        label="내용" 
                        class="input-detail"
                        lwc:ref="detail"> </lightning-input>
                    </li>
                </ul>
            </div>
        </section>
    </lightning-modal-body>
    <lightning-modal-footer>
        <lightning-button label="견적신청" onclick={requestQuotes}></lightning-button>
    </lightning-modal-footer>
</template>